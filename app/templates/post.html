<!-- templates/post.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ post.title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    {% include 'navbar.html' %}
    <div class="container">
        <h1>{{ post.title }}</h1>
        <p><em>Posted on {{ post.timestamp.strftime('%B %d, %Y') }}</em></p>
        <div class="content">
            {{ post.content | safe }}
        </div>
        <p>👍 Likes: {{ post.likes }} | 👁️ Views: {{ post.views }}</p>
    </div>


    <h3>Comments</h3>
{% for comment in post.comments %}
    <div class="border p-2 mb-2">
        <strong>{{ comment.author }}</strong> <em>{{ comment.timestamp.strftime('%B %d, %Y') }}</em>
        <p>{{ comment.content }}</p>
    </div>
{% endfor %}

<h4>Leave a Comment</h4>
<form method="POST">
    {{ form.hidden_tag() }}
    <p>{{ form.author.label }}<br>{{ form.author(size=40) }}</p>
    <p>{{ form.content.label }}<br>{{ form.content(rows=4, cols=60) }}</p>
    <p>{{ form.submit() }}</p>
</form>

</body>
</html>
